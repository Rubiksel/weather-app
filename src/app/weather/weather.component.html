<form [formGroup]="weatherForm" (ngSubmit)="onSubmit()" class="mb-4">
  <div class="row g-3">
    <div class="col-md-4">
      <input
        type="text"
        class="form-control"
        placeholder="City"
        formControlName="city"
      />
    </div>
    <div class="col-md-4">
      <input
        type="text"
        class="form-control"
        placeholder="State (optional)"
        formControlName="state"
      />
    </div>
    <div class="col-md-4">
      <input
        type="text"
        class="form-control"
        placeholder="Country (e.g., US)"
        formControlName="country"
      />
    </div>
  </div>

  <div class="row g-3 mt-2">
    <div class="col-md-6">
      <input
        type="text"
        class="form-control"
        placeholder="Latitude (optional)"
        formControlName="lat"
      />
    </div>
    <div class="col-md-6">
      <input
        type="text"
        class="form-control"
        placeholder="Longitude (optional)"
        formControlName="lon"
      />
    </div>

    <div class="card mb-4">
      <div class="card-body">
        <h5 class="card-title">Select Language</h5>
        <div class="row g-2 align-items-center">
          <div class="col-sm-8">
            <select class="form-select" [(ngModel)]="selectedLang">
              <option value="en">English</option>
              <option value="es">Spanish</option>
              <option value="fr">French</option>
              <option value="de">German</option>
              <!-- Add more if needed -->
            </select>
          </div>
          <div class="col-sm-4">
            <button class="btn btn-success w-100" (click)="onConfirmLanguage()">
              Confirm Language
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-3">
    <button type="submit" class="btn btn-primary w-100">Search Weather</button>
  </div>
</form>

<div class="mb-3 text-center">
  <app-metric-toggle (unitChange)="onUnitChange($event)"></app-metric-toggle>
</div>

<!-- Display Weather Results -->
<div *ngIf="weatherData" class="card mt-4 shadow-sm">
  <div class="card-body text-center">
    <h4 class="card-title">{{ weatherData.name }}</h4>
    <p class="card-text text-capitalize">
      {{ weatherData.weather[0].description }}
    </p>
    <img
      [src]="
        'https://openweathermap.org/img/wn/' +
        weatherData.weather[0].icon +
        '@2x.png'
      "
      [alt]="weatherData.weather[0].main"
      class="mb-3"
    />
    <p>
      <strong>Temperature:</strong> {{ weatherData.main.temp }}Â°<br />
      <strong>Humidity:</strong> {{ weatherData.main.humidity }}%
    </p>
  </div>
</div>
